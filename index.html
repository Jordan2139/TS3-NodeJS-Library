<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>TS3-NodeJS-Library</title>
	<meta name="description" content="Documentation for TS3-NodeJS-Library">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">TS3-NodeJS-Library</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>TS3-NodeJS-Library</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#ts3-nodejs-library" id="ts3-nodejs-library" style="color: inherit; text-decoration: none;">
					<h1>TS3-NodeJS-Library</h1>
				</a>
				<p><a href="https://github.com/Multivit4min/TS3-NodeJS-Library/actions"><img src="https://github.com/multivit4min/TS3-NodeJS-LIbrary/workflows/Node%20CI/badge.svg" alt="Build Status"></a>
					<a href="https://www.npmjs.com/package/ts3-nodejs-library"><img src="https://img.shields.io/npm/v/ts3-nodejs-library.svg" alt="npm"></a>
					<a href="https://coveralls.io/github/Multivit4min/TS3-NodeJS-Library?branch=master"><img src="https://coveralls.io/repos/github/Multivit4min/TS3-NodeJS-Library/badge.svg?branch=master" alt="Coverage Status"></a>
				<a href="https://discord.gg/Z5rdcGu"><img src="https://img.shields.io/discord/653273459840778270" alt="Discord"></a></p>
				<p>The TS3 NodeJS Library has been strongly influenced by <a href="https://docs.planetteamspeak.com/ts3/php/framework/index.html">PlanetTeamSpeaks TS3 PHP
				Framework</a></p>
				<a href="#introduction" id="introduction" style="color: inherit; text-decoration: none;">
					<h1>Introduction</h1>
				</a>
				<p>This library can connect to a TeamSpeak Server Query interface, send and receive commands aswell as upload and download files via Filetransfer!</p>
				<p>With vscode you will receive powerful autocomplete of functions and their return values, so vscode is highly recommended!</p>
				<a href="#install" id="install" style="color: inherit; text-decoration: none;">
					<h2>Install</h2>
				</a>
				<p><code>npm install --save ts3-nodejs-library</code></p>
				<a href="#documentation" id="documentation" style="color: inherit; text-decoration: none;">
					<h1>Documentation</h1>
				</a>
				<p>You can find all necessary documentation <a href="https://multivit4min.github.io/TS3-NodeJS-Library">here</a>!</p>
				<a href="#example" id="example" style="color: inherit; text-decoration: none;">
					<h1>Example</h1>
				</a>
				<p>Send a message to all non Query Clients connected:</p>
				<pre><code class="language-typescript"><span style="color: #008000">//import with typescript</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">TeamSpeak</span><span style="color: #000000">, </span><span style="color: #001080">QueryProtocol</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;ts3-nodejs-library&quot;</span>
<span style="color: #008000">//import with javascript</span>
<span style="color: #008000">//const { TeamSpeak } = require(&quot;ts3-nodejs-library&quot;)</span>

<span style="color: #008000">//create a new connection</span>
<span style="color: #001080">TeamSpeak</span><span style="color: #000000">.</span><span style="color: #795E26">connect</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">host:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;localhost&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">protocol:</span><span style="color: #000000"> </span><span style="color: #001080">QueryProtocol</span><span style="color: #000000">.</span><span style="color: #0070C1">RAW</span><span style="color: #000000">, </span><span style="color: #008000">//optional</span>
<span style="color: #000000">  </span><span style="color: #001080">queryport:</span><span style="color: #000000"> </span><span style="color: #098658">10011</span><span style="color: #000000">, </span><span style="color: #008000">//optional</span>
<span style="color: #000000">  </span><span style="color: #001080">serverport:</span><span style="color: #000000"> </span><span style="color: #098658">9987</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">username:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;serveradmin&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">password:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">nickname:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;NodeJS Query Framework&quot;</span>
<span style="color: #000000">}).</span><span style="color: #795E26">then</span><span style="color: #000000">(</span><span style="color: #0000FF">async</span><span style="color: #000000"> </span><span style="color: #001080">teamspeak</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">  </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">clients</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">teamspeak</span><span style="color: #000000">.</span><span style="color: #795E26">clientList</span><span style="color: #000000">({ </span><span style="color: #001080">clientType:</span><span style="color: #000000"> </span><span style="color: #098658">0</span><span style="color: #000000"> })</span>
<span style="color: #000000">  </span><span style="color: #001080">clients</span><span style="color: #000000">.</span><span style="color: #795E26">forEach</span><span style="color: #000000">(</span><span style="color: #001080">client</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;Sending &#039;Hello!&#039; Message to&quot;</span><span style="color: #000000">, </span><span style="color: #001080">client</span><span style="color: #000000">.</span><span style="color: #001080">nickname</span><span style="color: #000000">)</span>
<span style="color: #000000">    </span><span style="color: #001080">client</span><span style="color: #000000">.</span><span style="color: #795E26">message</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;Hello!&quot;</span><span style="color: #000000">)</span>
<span style="color: #000000">  })</span>
<span style="color: #000000">}).</span><span style="color: #795E26">catch</span><span style="color: #000000">(</span><span style="color: #001080">e</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;Catched an error!&quot;</span><span style="color: #000000">)</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">error</span><span style="color: #000000">(</span><span style="color: #001080">e</span><span style="color: #000000">)</span>
<span style="color: #000000">})</span>
</code></pre>
				<a href="#quickstart" id="quickstart" style="color: inherit; text-decoration: none;">
					<h1>Quickstart</h1>
				</a>
				<a href="#connecting-to-a-teamspeak-server" id="connecting-to-a-teamspeak-server" style="color: inherit; text-decoration: none;">
					<h2>Connecting to a TeamSpeak Server</h2>
				</a>
				<p>There are 2 ways to connect with the TeamSpeak Server:
				using the wrapper <code>TeamSpeak.connect()</code> or by instanciating the <code>TeamSpeak</code> class by yourself</p>
				<blockquote>
					<p>to connect with TeamSpeak.connect():</p>
				</blockquote>
				<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">TeamSpeak</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;ts3-nodejs-library&quot;</span>

<span style="color: #001080">TeamSpeak</span><span style="color: #000000">.</span><span style="color: #795E26">connect</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">host:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;127.0.0.1&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">queryport:</span><span style="color: #000000"> </span><span style="color: #098658">10011</span>
<span style="color: #000000">}).</span><span style="color: #795E26">then</span><span style="color: #000000">(</span><span style="color: #001080">teamspeak</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">  </span><span style="color: #008000">//you are now connected</span>
<span style="color: #000000">}).</span><span style="color: #795E26">catch</span><span style="color: #000000">(</span><span style="color: #001080">e</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">  </span><span style="color: #008000">//an error occured during connecting</span>
<span style="color: #000000">})</span>
</code></pre>
				<blockquote>
					<p>when instanciating it by yourself:</p>
				</blockquote>
				<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">TeamSpeak</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;ts3-nodejs-library&quot;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">teamspeak</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">TeamSpeak</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">host:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;127.0.0.1&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">queryport:</span><span style="color: #000000"> </span><span style="color: #098658">10011</span>
<span style="color: #000000">})</span>

<span style="color: #001080">teamspeak</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;ready&quot;</span><span style="color: #000000">, () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">  </span><span style="color: #008000">//teamspeak connected successfully</span>
<span style="color: #000000">})</span>

<span style="color: #001080">teamspeak</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;error&quot;</span><span style="color: #000000">, () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">  </span><span style="color: #008000">//teamspeak had an error</span>
<span style="color: #000000">})</span>
</code></pre>
				<a href="#configuration" id="configuration" style="color: inherit; text-decoration: none;">
					<h3>Configuration</h3>
				</a>
				<table>
					<thead>
						<tr>
							<th>Parameter</th>
							<th>Default</th>
							<th>Description</th>
						</tr>
					</thead>
					<tbody><tr>
							<td>host</td>
							<td>&quot;127.0.0.1&quot;</td>
							<td>hostname to connect to</td>
						</tr>
						<tr>
							<td>queryport</td>
							<td>10011</td>
							<td>queryport to connect to</td>
						</tr>
						<tr>
							<td>protocol</td>
							<td>&quot;raw&quot;</td>
							<td>either use telnet or ssh to connect to the server</td>
						</tr>
						<tr>
							<td>serverport</td>
							<td><code>empty</code></td>
							<td>the server port to select when connecting</td>
						</tr>
						<tr>
							<td>username</td>
							<td><code>empty</code></td>
							<td>the username to login with (required when using ssh)</td>
						</tr>
						<tr>
							<td>password</td>
							<td><code>empty</code></td>
							<td>the password to login with (required when using ssh)</td>
						</tr>
						<tr>
							<td>nickname</td>
							<td><code>empty</code></td>
							<td>the nickname to connect with when selecting a server</td>
						</tr>
						<tr>
							<td>readyTimeout</td>
							<td>10000</td>
							<td>timeout in ms to wait for the connection to be built</td>
						</tr>
						<tr>
							<td>keepAlive</td>
							<td>true</td>
							<td>wether a keepalive should be sent to the teamspeak server</td>
						</tr>
						<tr>
							<td>localAddress</td>
							<td><code>empty</code></td>
							<td>local address the socket should connect from</td>
						</tr>
				</tbody></table>
				<a href="#error-handling-when-connecting" id="error-handling-when-connecting" style="color: inherit; text-decoration: none;">
					<h3>Error handling when connecting</h3>
				</a>
				<p>the method <code>TeamSpeak.connect()</code> will do error handling for you, when the query fails to connect or some of the commands which are being initially used to connect may encounter an error then the query will disconnect and reject the Promise with an error</p>
				<p>However when instanciating TeamSpeak by yourself an <code>error</code> event might get thrown but the <code>ready</code> event will never fire</p>
				<p>thats why <code>TeamSpeak.connect()</code> is more preferable to build a connection</p>
				<a href="#basic-usage" id="basic-usage" style="color: inherit; text-decoration: none;">
					<h2>Basic Usage</h2>
				</a>
				<a href="#sending-a-command" id="sending-a-command" style="color: inherit; text-decoration: none;">
					<h3>Sending a command</h3>
				</a>
				<p>Sending a command is simple, every command will return a <code>Promise</code>. If you do not know what a Promise is then please read the documentation first: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">developer.mozilla.org &gt; Promise</a></p>
				<p>When using NodeJS then Promises are essential for further progress</p>
				<blockquote>
					<p>Using Promises</p>
				</blockquote>
				<pre><code class="language-javascript"><span style="color: #001080">teamspeak</span><span style="color: #000000">.</span><span style="color: #795E26">whoami</span><span style="color: #000000">().</span><span style="color: #795E26">then</span><span style="color: #000000">(</span><span style="color: #001080">whoami</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">whoami</span><span style="color: #000000">)</span>
<span style="color: #000000">})</span>
</code></pre>
				<blockquote>
					<p>Using Async/Await</p>
				</blockquote>
				<pre><code class="language-javascript"><span style="color: #000000">(</span><span style="color: #0000FF">async</span><span style="color: #000000"> () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">  </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">whoami</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">teamspeak</span><span style="color: #000000">.</span><span style="color: #795E26">whoami</span><span style="color: #000000">()</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">whoami</span><span style="color: #000000">)</span>
<span style="color: #000000">})()</span>
</code></pre>
				<p><code>whoami</code> will then give you an object like</p>
				<pre><code class="language-javascript"><span style="color: #000000">{</span>
<span style="color: #000000">  virtualserver_status: </span><span style="color: #A31515">&quot;online&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">  virtualserver_unique_identifier: </span><span style="color: #A31515">&quot;t1lytXTeyvmHXvNJ4ZcBBd15ugs=&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">  virtualserver_port: </span><span style="color: #098658">9987</span><span style="color: #000000">,</span>
<span style="color: #000000">  virtualserver_id: </span><span style="color: #098658">1</span><span style="color: #000000">,</span>
<span style="color: #000000">  client_id: </span><span style="color: #098658">2</span><span style="color: #000000">,</span>
<span style="color: #000000">  client_channel_id: </span><span style="color: #098658">1</span><span style="color: #000000">,</span>
<span style="color: #000000">  client_nickname: </span><span style="color: #A31515">&quot;serveradmin&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">  client_database_id: </span><span style="color: #098658">0</span><span style="color: #000000">,</span>
<span style="color: #000000">  client_login_name: </span><span style="color: #A31515">&quot;serveradmin&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">  client_unique_identifier: </span><span style="color: #A31515">&quot;serveradmin&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">  client_origin_server_id: </span><span style="color: #098658">0</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#events" id="events" style="color: inherit; text-decoration: none;">
					<h3>Events</h3>
				</a>
				<p>You can use <code>teamspeak.on()</code> to register to various events, you can find a list of all events here: <a href="https://multivit4min.github.io/TS3-NodeJS-Library/classes/teamspeak.html#on">https://multivit4min.github.io/TS3-NodeJS-Library/classes/teamspeak.html#on</a>
				Note: with 3.x its not necessary to subscribe to events anymore, this will be done automatically now!</p>
				<pre><code class="language-javascript"><span style="color: #001080">teamspeak</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;textmessage&quot;</span><span style="color: #000000">, </span><span style="color: #001080">ev</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">`</span><span style="color: #0000FF">${</span><span style="color: #001080">ev</span><span style="color: #000000FF">.</span><span style="color: #001080">invoker</span><span style="color: #000000FF">.</span><span style="color: #001080">nickname</span><span style="color: #0000FF">}</span><span style="color: #A31515"> just send the message &quot;</span><span style="color: #0000FF">${</span><span style="color: #001080">ev</span><span style="color: #000000FF">.</span><span style="color: #001080">msg</span><span style="color: #0000FF">}</span><span style="color: #A31515">&quot;`</span><span style="color: #000000">)</span>
<span style="color: #000000">})</span>
</code></pre>
				<a href="#flood-protection" id="flood-protection" style="color: inherit; text-decoration: none;">
					<h3>Flood Protection</h3>
				</a>
				<p>Flooding will be handled automatically.</p>
				<p>When the Query gets accused of Flooding then it will return error with id 524 and an error message which states how much time needs to be waited.</p>
				<p>This will be parsed automatically and the Query will wait for the given time (normally its 1 second) + 100 additional milliseconds (sometimes it happens the query gets banned when still sending too early)</p>
				<a href="#reconnecting" id="reconnecting" style="color: inherit; text-decoration: none;">
					<h1>Reconnecting</h1>
				</a>
				<p>With version 2.3 this library is able to reconnect to its TeamSpeak Server when the connection has been lost.
				It restores its full context this includes:</p>
				<ul>
					<li>selecting the server</li>
					<li>logging in with the last credentials</li>
					<li>subscribing to all used events</li>
					<li>selecting the correct nickname</li>
				</ul>
				<p>all commands which have been added in meantime while the teamspeak server was not connected will be still executed after and all pending commands will be sent AFTER connecting and restoring the context</p>
				<p>an example on how this looks like:</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">TeamSpeak</span><span style="color: #000000">, </span><span style="color: #001080">QueryProtocol</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;./src/TeamSpeak&quot;</span>

<span style="color: #001080">TeamSpeak</span><span style="color: #000000">.</span><span style="color: #795E26">connect</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">host:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;127.0.0.1&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">queryport:</span><span style="color: #000000"> </span><span style="color: #098658">10011</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">serverport:</span><span style="color: #000000"> </span><span style="color: #098658">9987</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">protocol:</span><span style="color: #000000"> </span><span style="color: #001080">QueryProtocol</span><span style="color: #000000">.</span><span style="color: #0070C1">RAW</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">username:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;serveradmin&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">password:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;xxx&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">nickname:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;test&quot;</span>
<span style="color: #000000">}).</span><span style="color: #795E26">then</span><span style="color: #000000">(</span><span style="color: #0000FF">async</span><span style="color: #000000"> </span><span style="color: #001080">teamspeak</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>

<span style="color: #000000">  </span><span style="color: #001080">teamspeak</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;close&quot;</span><span style="color: #000000">, </span><span style="color: #0000FF">async</span><span style="color: #000000"> () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;disconnected, trying to reconnect...&quot;</span><span style="color: #000000">)</span>
<span style="color: #000000">    </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">teamspeak</span><span style="color: #000000">.</span><span style="color: #795E26">reconnect</span><span style="color: #000000">(-</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #098658">1000</span><span style="color: #000000">)</span>
<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;reconnected!&quot;</span><span style="color: #000000">)</span>
<span style="color: #000000">  })</span>

<span style="color: #000000">})</span>
</code></pre>
				<a href="#update-notes-from-1x-to-2x" id="update-notes-from-1x-to-2x" style="color: inherit; text-decoration: none;">
					<h1>Update Notes from 1.x to 2.x</h1>
				</a>
				<p>With version 2.x support for Client Events has been dropped instead use the events from the main class TeamSpeak.
					Additionally it comes with <code>TeamSpeak.connect()</code> in order to use a promise to connect to a teamspeak server.
					Multiple node methods have been replaced with a getter for ex: <code>client.getDBID()</code> -&gt; <code>client.databaseId</code>, <code>client.getUID()</code> -&gt; <code>client.uniqueIdentifier</code>, <code>channel.getID()</code> -&gt; <code>channel.cid</code>
					The testing environment now runs via jest which makes mocking and testing easier. Since this project now is written in TypeScript vscode should now be completely capable to autocomplete, so there is no need to update docs on @types.
				Documentation software has been switched from <code>documentation</code> to <code>typedoc</code></p>
				<a href="#update-notes-to-23" id="update-notes-to-23" style="color: inherit; text-decoration: none;">
					<h1>Update Notes to 2.3</h1>
				</a>
				<p>The <code>close</code> event now only gets fired when a connection has been successfully established first!
				In order to get errors when connecting to a server use the <code>error</code> event instead. This was required in order to implement the reconnect logic.</p>
				<a href="#update-notes-to-30" id="update-notes-to-30" style="color: inherit; text-decoration: none;">
					<h1>Update Notes to 3.0</h1>
				</a>
				<a href="#some-parameters-are-now-strings-instead-of-numbers" id="some-parameters-are-now-strings-instead-of-numbers" style="color: inherit; text-decoration: none;">
					<h3>Some Parameters are now strings instead of numbers</h3>
				</a>
				<p>With the free Beta TeamSpeak Servers for the TeamSpeak 5 Client there are IDs which use a 64 bit format.
				Since JavaScript starts to round at 53 bits those IDs will not be displayed correctly. In order to compensate this all IDs are now strings instead of numbers!</p>
				<a href="#function-renames" id="function-renames" style="color: inherit; text-decoration: none;">
					<h3>Function renames</h3>
				</a>
				<p>Renamed some function in order to comply with JavaScript Standard</p>
				<p><code>TeamSpeak#getClientByID</code> -&gt; <code>TeamSpeak#getClientById</code><br><code>TeamSpeak#getClientByUID</code> -&gt; <code>TeamSpeak#getClientByUid</code><br><code>TeamSpeak#getClientByDBID</code> -&gt; <code>TeamSpeak#getClientByDbid</code><br>......<br><code>TeamSpeak#getChannelByID</code> -&gt; <code>TeamSpeak#getChannelById</code>\</p>
				<a href="#update-to-permissions" id="update-to-permissions" style="color: inherit; text-decoration: none;">
					<h3>Update to Permissions</h3>
				</a>
				<p>Permissions will now be handled differently, if you for example want to add a Permission onto a ServerGroup then you can use </p>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">group</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">teamspeak</span><span style="color: #000000">.</span><span style="color: #795E26">getServerGroupById</span><span style="color: #000000">(</span><span style="color: #098658">10</span><span style="color: #000000">)</span>
<span style="color: #AF00DB">if</span><span style="color: #000000"> (!</span><span style="color: #001080">group</span><span style="color: #000000">) </span><span style="color: #AF00DB">throw</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Error</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;could not find group with id 10&quot;</span><span style="color: #000000">)</span>
<span style="color: #008000">//old await teamspeak.serverGroupAddPerm(10, &quot;i_channel_subscribe_power&quot;, 10, 0, 1)</span>
<span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">teamspeak</span><span style="color: #000000">.</span><span style="color: #795E26">serverGroupAddPerm</span><span style="color: #000000">(</span><span style="color: #001080">group</span><span style="color: #000000">, {</span>
<span style="color: #000000">  </span><span style="color: #001080">permname:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;i_channel_subscribe_power&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">permvalue:</span><span style="color: #000000"> </span><span style="color: #098658">10</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">skip:</span><span style="color: #000000"> </span><span style="color: #0000FF">false</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">negate:</span><span style="color: #000000"> </span><span style="color: #0000FF">true</span>
<span style="color: #000000">})</span>
<span style="color: #008000">//or alternatively you can use it via the permission object</span>
<span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">teamspeak</span><span style="color: #000000">.</span><span style="color: #795E26">serverGroupAddPerm</span><span style="color: #000000">(</span><span style="color: #001080">group</span><span style="color: #000000">)</span>
<span style="color: #000000">  .</span><span style="color: #795E26">perm</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;i_channel_subscribe_power&quot;</span><span style="color: #000000">)</span>
<span style="color: #000000">  .</span><span style="color: #795E26">value</span><span style="color: #000000">(</span><span style="color: #098658">10</span><span style="color: #000000">)</span>
<span style="color: #000000">  .</span><span style="color: #795E26">skip</span><span style="color: #000000">(</span><span style="color: #0000FF">false</span><span style="color: #000000">)</span>
<span style="color: #000000">  .</span><span style="color: #795E26">negate</span><span style="color: #000000">(</span><span style="color: #0000FF">true</span><span style="color: #000000">)</span>
<span style="color: #000000">  .</span><span style="color: #795E26">update</span><span style="color: #000000">()</span>
</code></pre>
				<p>Permission List commands will now not give back a raw object but will give you an array of Permission class
				which you can dynamically update after, for example if you want to add all existing permissions the skip flag</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">group</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">teamspeak</span><span style="color: #000000">.</span><span style="color: #795E26">getServerGroupById</span><span style="color: #000000">(</span><span style="color: #098658">10</span><span style="color: #000000">)</span>
<span style="color: #AF00DB">if</span><span style="color: #000000"> (!</span><span style="color: #001080">group</span><span style="color: #000000">) </span><span style="color: #AF00DB">throw</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Error</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;could not find group with id 10&quot;</span><span style="color: #000000">)</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">permlist</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">group</span><span style="color: #000000">.</span><span style="color: #795E26">permList</span><span style="color: #000000">()</span>
<span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #267F99">Promise</span><span style="color: #000000">.</span><span style="color: #795E26">all</span><span style="color: #000000">(</span><span style="color: #001080">permlist</span><span style="color: #000000">.</span><span style="color: #795E26">map</span><span style="color: #000000">(</span><span style="color: #001080">perm</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">perm</span><span style="color: #000000">.</span><span style="color: #795E26">skip</span><span style="color: #000000">(</span><span style="color: #0000FF">true</span><span style="color: #000000">).</span><span style="color: #795E26">update</span><span style="color: #000000">()))</span>
</code></pre>
				<p>or if you want to remove all permissions:</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">group</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">teamspeak</span><span style="color: #000000">.</span><span style="color: #795E26">getServerGroupById</span><span style="color: #000000">(</span><span style="color: #098658">10</span><span style="color: #000000">)</span>
<span style="color: #AF00DB">if</span><span style="color: #000000"> (!</span><span style="color: #001080">group</span><span style="color: #000000">) </span><span style="color: #AF00DB">throw</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Error</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;could not find group with id 10&quot;</span><span style="color: #000000">)</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">permlist</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">group</span><span style="color: #000000">.</span><span style="color: #795E26">permList</span><span style="color: #000000">()</span>
<span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #267F99">Promise</span><span style="color: #000000">.</span><span style="color: #795E26">all</span><span style="color: #000000">(</span><span style="color: #001080">permlist</span><span style="color: #000000">.</span><span style="color: #795E26">map</span><span style="color: #000000">(</span><span style="color: #001080">perm</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">perm</span><span style="color: #000000">.</span><span style="color: #795E26">remove</span><span style="color: #000000">()))</span>
</code></pre>
				<p>To retrieve the permission name or value you can use
				<code>perm.getValue()</code>, <code>perm.getPerm()</code>, <code>perm.getSkip()</code>, <code>perm.getNegate()</code></p>
				<a href="#update-to-all-parameters" id="update-to-all-parameters" style="color: inherit; text-decoration: none;">
					<h3>Update to all parameters</h3>
				</a>
				<p>all Parameters are now returned as camelcase and require camelcase characters in object properties</p>
				<pre><code class="language-typescript"><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">teamspeak</span><span style="color: #000000">.</span><span style="color: #795E26">whoami</span><span style="color: #000000">())</span>
<span style="color: #008000">/**</span>
<span style="color: #008000"> * with &lt; 3.0 it looked like:</span>
<span style="color: #008000"> * {</span>
<span style="color: #008000"> *   virtualserver_status: &quot;unknown&quot;,</span>
<span style="color: #008000"> *   virtualserver_unique_identifier: undefined,</span>
<span style="color: #008000"> *   virtualserver_port: 0,</span>
<span style="color: #008000"> *   virtualserver_id: 0,</span>
<span style="color: #008000"> *   client_id: 0,</span>
<span style="color: #008000"> *   client_channel_id: 0,</span>
<span style="color: #008000"> *   client_nickname: undefined,</span>
<span style="color: #008000"> *   client_database_id: 0,</span>
<span style="color: #008000"> *   client_login_name: undefined,</span>
<span style="color: #008000"> *   client_unique_identifier: undefined,</span>
<span style="color: #008000"> *   client_origin_server_id: 0</span>
<span style="color: #008000"> * }</span>
<span style="color: #008000"> * with converted to camelcase the response will look like:</span>
<span style="color: #008000"> * {</span>
<span style="color: #008000"> *   virtualserverStatus: &quot;unknown&quot;,</span>
<span style="color: #008000"> *   virtualserverUniqueIdentifier: undefined,</span>
<span style="color: #008000"> *   virtualserverPort: 0,</span>
<span style="color: #008000"> *   virtualserverId: 0,</span>
<span style="color: #008000"> *   clientId: 0,</span>
<span style="color: #008000"> *   clientChannelId: 0,</span>
<span style="color: #008000"> *   clientNickname: undefined,</span>
<span style="color: #008000"> *   clientDatabaseId: 0,</span>
<span style="color: #008000"> *   clientLoginName: undefined,</span>
<span style="color: #008000"> *   clientUniqueIdentifier: undefined,</span>
<span style="color: #008000"> *   clientOriginServerId: 0</span>
<span style="color: #008000"> * }</span>
<span style="color: #008000"> */</span>
</code></pre>
				<p>the same is for parameters given to update certain things for example:</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">channel</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">teamspeak</span><span style="color: #000000">.</span><span style="color: #795E26">getChannelById</span><span style="color: #000000">(</span><span style="color: #098658">10</span><span style="color: #000000">)</span>
<span style="color: #AF00DB">if</span><span style="color: #000000"> (!</span><span style="color: #001080">channel</span><span style="color: #000000">) </span><span style="color: #AF00DB">throw</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Error</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;could not find channel with id 10&quot;</span><span style="color: #000000">)</span>
<span style="color: #008000">//with version &lt; 3.0</span>
<span style="color: #001080">channel</span><span style="color: #000000">.</span><span style="color: #795E26">edit</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">channel_name:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;foo&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">channel_password:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;bar&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">channel_description:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;lorem ipsum&quot;</span>
<span style="color: #000000">})</span>
<span style="color: #008000">//with version &gt;= 3.0</span>
<span style="color: #001080">channel</span><span style="color: #000000">.</span><span style="color: #795E26">edit</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">channelName:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;foo&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">channelPassword:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;bar&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">channelDescription:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;lorem ipsum&quot;</span>
<span style="color: #000000">})</span>
</code></pre>
				<p>In favor to have <code>TeamSpeak#uploadIcon()</code> a new dependency has been added <code>buffer-crc32</code>
				Upload Icon takes as first argument the icon buffer and returns after a finnished upload the crc32 value of the buffer</p>
				<a href="#events-1" id="events-1" style="color: inherit; text-decoration: none;">
					<h3>Events</h3>
				</a>
				<p>With 3.0 you do not need to subscribe to server events manually anymore! This will now done automatically when necessary!
				So you can remove those lines from your code:</p>
				<pre><code class="language-typescript"><span style="color: #267F99">Promise</span><span style="color: #000000">.</span><span style="color: #795E26">all</span><span style="color: #000000">([</span>
<span style="color: #000000">  </span><span style="color: #001080">teamspeak</span><span style="color: #000000">.</span><span style="color: #795E26">registerEvent</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;server&quot;</span><span style="color: #000000">),</span>
<span style="color: #000000">  </span><span style="color: #001080">teamspeak</span><span style="color: #000000">.</span><span style="color: #795E26">registerEvent</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;channel&quot;</span><span style="color: #000000">, </span><span style="color: #098658">0</span><span style="color: #000000">),</span>
<span style="color: #000000">  </span><span style="color: #001080">teamspeak</span><span style="color: #000000">.</span><span style="color: #795E26">registerEvent</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;textserver&quot;</span><span style="color: #000000">),</span>
<span style="color: #000000">  </span><span style="color: #001080">teamspeak</span><span style="color: #000000">.</span><span style="color: #795E26">registerEvent</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;textchannel&quot;</span><span style="color: #000000">),</span>
<span style="color: #000000">  </span><span style="color: #001080">teamspeak</span><span style="color: #000000">.</span><span style="color: #795E26">registerEvent</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;textprivate&quot;</span><span style="color: #000000">)</span>
<span style="color: #000000">])</span>
</code></pre>
				<a href="#authors" id="authors" style="color: inherit; text-decoration: none;">
					<h1>Authors</h1>
				</a>
				<ul>
					<li><strong>David Kartnaller</strong> (<a href="https://github.com/Multivit4min">Multivit4min</a>) - <em>Initial work</em></li>
					<li><strong>Pascal Sthamer</strong> (<a href="https://github.com/P4sca1">P4sca1</a>) and <strong>Mattis Krämer</strong> (<a href="https://github.com/Mattzi">Mattzi</a>) - <em>TypeScript typings</em></li>
					<li><strong>Alexander</strong> (<a href="https://github.com/xIAlexanderIx">xIAlexanderIx</a>)</li>
				</ul>
				<p>See also the list of <a href="https://github.com/Multivit4min/TS3-NodeJS-Library/graphs/contributors">contributors</a> who participated in this project.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Exports</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/teamspeak.html">Team<wbr>Speak</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/exception_eventerror.html">exception/<wbr>Event<wbr>Error</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/exception_responseerror.html">exception/<wbr>Response<wbr>Error</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/index.html">index</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/node_abstract.html">node/<wbr>Abstract</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/node_channel.html">node/<wbr>Channel</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/node_channelgroup.html">node/<wbr>Channel<wbr>Group</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/node_client.html">node/<wbr>Client</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/node_server.html">node/<wbr>Server</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/node_servergroup.html">node/<wbr>Server<wbr>Group</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/transport_command.html">transport/<wbr>Command</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/transport_filetransfer.html">transport/<wbr>File<wbr>Transfer</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/transport_teamspeakquery.html">transport/<wbr>Team<wbr>Speak<wbr>Query</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/transport_protocols_raw.html">transport/protocols/raw</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/transport_protocols_ssh.html">transport/protocols/ssh</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/types_events.html">types/<wbr>Events</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/types_propertytypes.html">types/<wbr>Property<wbr>Types</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/types_responsetypes.html">types/<wbr>Response<wbr>Types</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/types_context.html">types/context</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/types_enum.html">types/enum</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/util_permission.html">util/<wbr>Permission</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-namespace"><span class="tsd-kind-icon">Namespace</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>